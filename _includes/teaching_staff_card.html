<div class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Teaching Staff</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {% assign all_staff = course.instructors | concat: course.teaching_assistants | concat: course.guest_lecturers %}
      {% for staff_id in all_staff %}
        {% assign staff = site.data.instructors | where: 'id', staff_id | first %}
        {% if staff == nil %}
          {% assign staff = site.data.teaching_assistants | where: 'id', staff_id | first %}
        {% endif %}
        {% if staff == nil %}
          {% assign staff = site.data.guest_lecturers | where: 'id', staff_id | first %}
        {% endif %}
  
        <div class="bg-white rounded-lg shadow-sm p-4 flex gap-4 items-start">
          <!-- Staff Image -->
          <img
            src="{{ staff.image | relative_url }}"
            alt="{{ staff.name }}"
            class="w-20 h-20 rounded-full object-cover"
          />
          <div class="flex-1">
            <!-- Role Badge -->
            <div class="flex justify-between items-center mb-1">
              <h4 class="font-bold text-lg">{{ staff.name }}</h4>
              {% if course.instructors contains staff.id %}
                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">Instructor</span>
              {% elsif course.teaching_assistants contains staff.id %}
                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Teaching Assistant</span>
              {% elsif course.guest_lecturers contains staff.id %}
                <span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full">Guest Lecturer</span>
              {% endif %}
            </div>
  
            <!-- Title and Company -->
            <!-- Both Dimensions Specified: Apply both w- and h-. -->
            <!-- Only Width Specified: Apply w- with h-auto to preserve aspect ratio. -->
            <!-- Only Height Specified: Apply h- with w-auto. -->
            <!-- Neither Specified: Use default dimensions (w-6 h-6). -->
            <p class="text-sm text-gray-600 flex items-center gap-1">
                {{ staff.title }}
                {% if course.guest_lecturers contains staff.id and staff.company %}
                  <span>at <span class="font-medium">{{ staff.company }}</span></span>
                  {% if staff.company_logo.url %}
                    <img
                      src="{{ staff.company_logo.url }}"
                      alt="{{ staff.company }}"
                      class="inline-block rounded-full
                        {% if staff.company_logo.width and staff.company_logo.width != '' and staff.company_logo.height and staff.company_logo.height != '' %}
                        w-{{ staff.company_logo.width }} h-{{ staff.company_logo.height }}
                        {% elsif staff.company_logo.width and staff.company_logo.width != '' %}
                        w-{{ staff.company_logo.width }} h-auto
                        {% elsif staff.company_logo.height and staff.company_logo.height != '' %}
                        h-{{ staff.company_logo.height }} w-auto
                        {% else %}
                        w-6 h-6
                        {% endif %}"
                    />
                  {% endif %}
                {% endif %}
              </p>
              
              
            <!-- Office and Office Hours -->
            {% if course.instructors contains staff.id or course.teaching_assistants contains staff.id %}
              <div class="text-sm text-gray-600 mt-1">
                {% if staff.office %}
                <div class="flex items-center gap-2">
                  <i class="fa-solid fa-map-marker-alt w-4 h-4"></i>
                  {{ staff.office }}
                </div>
                {% endif %}
                {% if staff.office_hours %}
                <div class="flex items-center gap-2">
                  <i class="fa-regular fa-clock w-4 h-4"></i>
                  Office Hours: {{ staff.office_hours }}
                </div>
                {% endif %}
              </div>
            {% endif %}
  
            <!-- Topic (Guest Lecturer Only) -->
            {% if course.guest_lecturers contains staff.id %}
            <div class="mt-1 text-sm text-gray-600">
              <i class="fa-regular fa-calendar w-4 h-4"></i> Topic: {{ staff.topic }}
            </div>
            {% endif %}
  
            <!-- Bio (Guest Lecturer Only) -->
            {% if course.guest_lecturers contains staff.id %}
            <p class="text-sm text-gray-600 mt-2">{{ staff.bio }}</p>
            {% endif %}
  
            <!-- Links -->
            {% if staff.links %}
            <div class="flex gap-2 mt-2">
              {% for link in staff.links %}
              <a
                href="{{ link.url }}"
                class="text-gray-600 transition-all duration-300 hover:scale-110"
                target="_blank"
                rel="noopener noreferrer"
              >
                <i class="{{ link.icon }} text-lg mr-2"></i>
              </a>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  